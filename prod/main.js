const defaultOptions={icon:null,message:null,position:"bottom center",gap:12,inset:12,time:5,spin:!1,buttonClose:!1,onHide:null,onClose:null,onBeforeClose:null};(()=>{let t=document.querySelector("link#toast");t||(t=document.createElement("link"),t.id="toast",t.rel="stylesheet",t.type="text/css",t.href="/sites/appcatalog/dev/common/lib/toast/prod/style.css?v="+(new Date).getTime(),document.querySelector("head").appendChild(t))})();let $toasts=document.querySelector(".toasts");$toasts||($toasts=document.createElement("div"),$toasts.className="toasts",$toasts.addEventListener("mouseover",(()=>$toasts.classList.add("scrollable","mouseover"))),$toasts.addEventListener("mouseout",(()=>$toasts.classList.remove("scrollable","mouseover"))),document.body.appendChild($toasts));export default function Toast(t={}){let e,s;return t={...defaultOptions,...t},$toasts.style.inset=`${t.inset}px`,function(){e=document.createElement("div"),e.classList.add("toast-wrapper"),e.innerHTML=`\n\t\t\t<div class="toast">\n\t\t\t\t<div class="toast-icon"></div>\n\t\t\t\t<div class="toast-body">\n\t\t\t\t\t<div class="toast-content">\n\t\t\t\t\t\t${t.message}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="toast-controls">\n\t\t\t\t\t<div class="toast-button hidden">\n\t\t\t\t\t\t<button type="button" class="toast-button-icon" title="Fechar">âœ–</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="toast-spin hidden"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;const s=e.querySelector(".toast"),a=s.querySelector(".toast-icon"),n=s.querySelector(".toast-controls"),r=s.querySelector(".toast-button"),l=s.querySelector(".toast-spin");s.addEventListener("mouseover",(()=>s.classList.add("mouseover"))),s.addEventListener("mouseout",(()=>s.classList.remove("mouseover"))),e.prepend(s),t.icon&&(t.icon instanceof HTMLElement?a.appendChild(t.icon):a.innerHTML=t.icon,s.prepend(a));t.buttonClose&&(r.classList.remove("hidden"),r.querySelector("button").addEventListener("click",(async()=>{if(t.onBeforeClose){await t.onBeforeClose()&&o()}else o()})));t.spin&&(l.classList.remove("hidden"),r.classList.add("hidden"));n.addEventListener("mouseover",(()=>{t.buttonClose&&t.spin&&(l.classList.add("hidden"),r.classList.remove("hidden"))})),n.addEventListener("mouseout",(()=>{t.buttonClose&&t.spin&&(l.classList.remove("hidden"),r.classList.add("hidden"))}))}(),{message:function(t){e.querySelector(".toast-content").innerHTML=t||""},show:function(){let a="center";t.position.match("left")?a="left":t.position.match("right")&&(a="right");if(e.classList.add(a),t.position.match("top")){$toasts.querySelectorAll(".toast-wrapper.bottom").forEach((t=>t.remove())),e.classList.add("top"),e.style.transform="scale(0.8) translateY(-16px)",$toasts.prepend(e);const s=e.offsetHeight;setTimeout((()=>{e.style.transform="scale(1)",e.style.transform="translateY(0px)",e.style.opacity=1}),0);$toasts.querySelectorAll(".toast-wrapper").forEach(((e,o)=>{if(0==o)return;const a=Number(e.style.transform.replace(/\D/g,""));e.style.transform=`translateY(calc(${a+s}px + ${t.gap}px))`}))}if(t.position.match("bottom")){$toasts.querySelectorAll(".toast-wrapper.top").forEach((t=>t.remove())),e.classList.add("bottom"),e.style.transform="scale(0.8) translateY(16px)",$toasts.appendChild(e);const s=e.offsetHeight;setTimeout((()=>{e.style.transform="scale(1)",e.style.transform="translateY(0px)",e.style.opacity=1}),0);const o=$toasts.querySelectorAll(".toast-wrapper");o.forEach(((e,a)=>{if(a==o.length-1)return;const n=Number(e.style.transform.replace(/\D/g,""));e.style.transform=`translateY(calc(-1 * (${n+s}px + ${t.gap}px)))`}))}s=setInterval((()=>{t.buttonClose||t.spin||$toasts.querySelectorAll(".toast.mouseover").length||o()}),1e3*t.time)},hide:o};function o(){e.style.transform=`translateY(${e.style.transform})`,e.style.opacity=0;const o=t.position.match("top");let a,n=Array.from($toasts.querySelectorAll(".toast-wrapper"));n=o?n:n.reverse();for(const s of n)if(s!=e){if(a){let e=Number(s.style.transform.replace(/\D/g,""));e=o?e-a-t.gap+"px":`calc(-1 * ${e-a-t.gap}px)`,s.style.transform=`translateY(${e})`}}else a=e.offsetHeight;setTimeout((()=>e.remove()),300),t.onHide&&t.onHide(),t.onClose&&t.onClose(),clearInterval(s)}}
